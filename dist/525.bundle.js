"use strict";(self.webpackChunkusermanagement=self.webpackChunkusermanagement||[]).push([[525],{409:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(540);const s=e=>{const{show:t,message:r,type:s,onClose:n}=e,[l,i]=(0,a.useState)(t);return(0,a.useEffect)(()=>{let e;return i(t),t&&(e=setTimeout(()=>{i(!1),n&&n()},3e3)),()=>clearTimeout(e)},[t,n]),l?a.createElement("div",{className:"alert alert-".concat(s),role:"alert"},(()=>{switch(s){case"success":return a.createElement("i",{className:"bi bi-check-circle-fill me-2"});case"danger":return a.createElement("i",{className:"bi bi-x-circle-fill me-2"});case"warning":return a.createElement("i",{className:"bi bi-exclamation-triangle-fill me-2"});case"info":return a.createElement("i",{className:"bi bi-info-circle-fill me-2"});default:return null}})(),a.createElement("div",null,r),a.createElement("button",{type:"button",className:"btn-close ms-auto",onClick:()=>{i(!1),n&&n()}})):null}},525:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var a=r(540),s=r(785);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n.apply(null,arguments)}const l=e=>{const{label:t,registration:r,isMaxLength:s=20,type:l="text",error:i}=e;return a.createElement("div",{className:"mb-3"},a.createElement("label",{className:"form-label"},t),a.createElement("input",n({type:l,className:"form-control ".concat(i?"is-invalid":""),maxLength:s},r)),i&&a.createElement("div",{className:"invalid-feedback"},i))},i=(0,a.memo)(l),o=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,3})$/,c=/^[6-9]\d{9}$/,m=/^[A-Za-z\s]+$/,d=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;var u=r(17),v=r(744),b=r(409);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E=()=>{var e,t,r,n,l,p,f;const E=(0,u.Zp)(),w=(0,u.zy)(),y=null==w||null===(e=w.state)||void 0===e?void 0:e.rowData,[h,N]=(0,a.useState)({show:!1,message:"",type:"success"}),{register:P,handleSubmit:O,reset:j,watch:S,formState:{errors:_}}=(0,s.mN)(),x=S("password");return(0,a.useEffect)(()=>{null!=y&&y._id&&j(y)},[y,j]),a.createElement(a.Fragment,null,a.createElement("div",{className:"container mt-5"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("h2",{className:"mb-4"},void 0!==(null==y?void 0:y._id)?"Update User":"Add User"))),a.createElement("form",{onSubmit:O(async e=>{try{const t=void 0!==(null==y?void 0:y._id)?await(0,v.sS)("".concat(v.u3.UPDATED_USER).concat(null==y?void 0:y._id),e):await(0,v.Tj)(v.u3.ADD_USER,e);200===t.statusCode?E("/"):409===t.response.data.statusCode&&N({show:!0,message:t.response.data.message,type:"warning"})}catch(e){console.log(e)}})},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-12 col-md-4 col-lg-3"},a.createElement(i,{label:"First Name",registration:P("fname",{required:"First name is required",pattern:{value:m,message:"Please enter valid email id"}}),error:null===(t=_.fname)||void 0===t?void 0:t.message})),a.createElement("div",{className:"col-xs-12 col-md-4 col-lg-3"},a.createElement(i,{label:"Last Name",registration:P("lname",{required:"Last name is required"}),error:null===(r=_.lname)||void 0===r?void 0:r.message})),a.createElement("div",{className:"col-xs-12 col-md-4 col-lg-3"},a.createElement(i,{label:"Email",isMaxLength:50,registration:P("email",{required:"Email Id is required",pattern:{value:o,message:"Please enter valid email id"}}),error:null===(n=_.email)||void 0===n?void 0:n.message})),a.createElement("div",{className:"col-xs-12 col-md-4 col-lg-3"},a.createElement(i,{label:"Mobile",isMaxLength:10,registration:P("mobileNo",{required:"Mobile number is required",pattern:{value:c,message:"Please enter valid mobile no"}}),error:null===(l=_.mobileNo)||void 0===l?void 0:l.message})),void 0!==(null==y?void 0:y._id)?"":a.createElement("div",{className:"col-xs-12 col-md-4 col-lg-3"},a.createElement(i,{label:"Password",type:"password",registration:P("password",{required:"Password is required",pattern:{value:d,message:"Please enter valid password"},minLength:{value:6,message:"Password must be at least 6 characters"},maxLength:{value:15,message:"Password can not be greater then 15 characters"}}),error:null===(p=_.password)||void 0===p?void 0:p.message})),void 0!==(null==y?void 0:y._id)?null:a.createElement("div",{className:"col-xs-12 col-md-4 col-lg-3"},a.createElement(i,{label:"Confirm Password",type:"password",registration:P("confirmPassword",{required:"Confirm Password is required",validate:e=>e===x||"Passwords do not match"}),error:null===(f=_.confirmPassword)||void 0===f?void 0:f.message}))),a.createElement("div",{className:"mt-3 text-end"},a.createElement("button",{type:"submit",className:"btn btn-primary mr-5"},void 0!==(null==y?void 0:y._id)?"Update User":"Add User"),a.createElement("button",{type:"button",className:"btn btn-danger",onClick:()=>E("/")},"Cancel"))),a.createElement(b.A,{show:h.show,message:h.message,type:h.type,onClose:()=>N(g(g({},h),{},{show:!1}))})))}},744:(e,t,r)=>{r.d(t,{u3:()=>s,LK:()=>o,Y2:()=>c,Tj:()=>l,sS:()=>i}),r(540);var a=r(83);const s=JSON.parse('{"ADD_USER":"api/user/add","GET_USER_LIST":"api/user","UPDATED_USER":"api/user/","DELETE_USER":"api/user/"}'),n=a.A.create({baseURL:void 0,withCredentials:!0});n.interceptors.request.use(e=>e,e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(window.location.href="/"),Promise.reject(e)});const l=async(e,t)=>{try{const r=await n.post(e,t);return null==r?void 0:r.data}catch(e){return e}},i=async(e,t)=>{try{const r=await n.put(e,t);return null==r?void 0:r.data}catch(e){return e}},o=async e=>{try{const t=await n.delete(e);return null==t?void 0:t.data}catch(e){return e}},c=async e=>{try{const t=await n.get(e);return null==t?void 0:t.data}catch(e){return e}}}}]);