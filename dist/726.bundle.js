"use strict";(self.webpackChunkusermanagement=self.webpackChunkusermanagement||[]).push([[726],{409:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(540);const l=e=>{const{show:t,message:a,type:l,onClose:r}=e,[c,s]=(0,n.useState)(t);return(0,n.useEffect)(()=>{let e;return s(t),t&&(e=setTimeout(()=>{s(!1),r&&r()},3e3)),()=>clearTimeout(e)},[t,r]),c?n.createElement("div",{className:"alert alert-".concat(l),role:"alert"},(()=>{switch(l){case"success":return n.createElement("i",{className:"bi bi-check-circle-fill me-2"});case"danger":return n.createElement("i",{className:"bi bi-x-circle-fill me-2"});case"warning":return n.createElement("i",{className:"bi bi-exclamation-triangle-fill me-2"});case"info":return n.createElement("i",{className:"bi bi-info-circle-fill me-2"});default:return null}})(),n.createElement("div",null,a),n.createElement("button",{type:"button",className:"btn-close ms-auto",onClick:()=>{s(!1),r&&r()}})):null}},726:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(540),l=a(744),r=a(17);a(378);const c=e=>{const{show:t,title:a,message:l,onConfirm:r,onCancel:c}=e;return t?n.createElement(n.Fragment,null,n.createElement("div",{className:"modal fade show d-block",tabIndex:"-1",role:"dialog",style:{backgroundColor:"rgba(0,0,0,0.5)"}},n.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},n.createElement("div",{className:"modal-content"},n.createElement("div",{className:"modal-header"},n.createElement("h5",{className:"modal-title"},a||"Confirm"),n.createElement("button",{type:"button",className:"btn-close",onClick:c})),n.createElement("div",{className:"modal-body"},n.createElement("p",null,l||"Are you sure?")),n.createElement("div",{className:"modal-footer"},n.createElement("button",{type:"button",className:"btn btn-secondary",onClick:c},"Cancel"),n.createElement("button",{type:"button",className:"btn btn-danger",onClick:r},"Confirm")))))):null};var s=a(409);const o=e=>{const{columns:t,data:a,itemsPerPage:l=10}=e,[r,c]=(0,n.useState)(1),s=Math.ceil(a.length/l),o=(r-1)*l,i=a.slice(o,o+l),m=e=>{e>=1&&e<=s&&c(e)};return n.createElement("div",{className:"container mt-4"},n.createElement("table",{className:"table table-bordered table-striped"},n.createElement("thead",{className:"table-primary"},n.createElement("tr",null,t.map((e,t)=>n.createElement("th",{key:t,className:e.className||""},e.label)))),n.createElement("tbody",null,i.map((e,a)=>n.createElement("tr",{key:a},t.map((t,a)=>n.createElement("td",{key:a,className:t.className||""},"function"==typeof t.render?t.render(e):e[t.field])))))),n.createElement("nav",null,n.createElement("ul",{className:"pagination justify-content-end"},n.createElement("li",{className:"page-item ".concat(1===r&&"disabled")},n.createElement("button",{className:"page-link",onClick:()=>m(r-1)},"Previous")),Array.from({length:s},(e,t)=>n.createElement("li",{key:t+1,className:"page-item ".concat(r===t+1&&"active")},n.createElement("button",{className:"page-link",onClick:()=>m(t+1)},t+1))),n.createElement("li",{className:"page-item ".concat(r===s&&"disabled")},n.createElement("button",{className:"page-link",onClick:()=>m(r+1)},"Next")))))};function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach(function(t){u(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const d=()=>{const e=(0,r.Zp)(),[t,a]=(0,n.useState)([]),[i,u]=(0,n.useState)(!1),[d,b]=(0,n.useState)(null),[E,p]=(0,n.useState)({show:!1,message:"",type:"success"}),y=async()=>{try{const e=await(0,l.Y2)(l.u3.GET_USER_LIST);200===e.statusCode&&a(e.data)}catch(e){console.log(e)}};(0,n.useEffect)(()=>{y()},[]);const f=[{label:"Full Name",field:"fname",render:e=>"".concat(e.fname," ").concat(e.lname)},{label:"Email",field:"email"},{label:"Mobile",field:"mobileNo",className:"text-center"},{label:"Actions",field:"actions",className:"text-center",render:t=>n.createElement(n.Fragment,null,n.createElement("button",{"data-toggle":"tooltip","data-placement":"top",title:"Edit User",className:"btn btn-warning btn-sm me-2",onClick:()=>{e("/update-user",{state:{rowData:t}})}},n.createElement("i",{className:"bi bi-pen"})),n.createElement("button",{"data-toggle":"tooltip","data-placement":"top",title:"Delete User",className:"btn btn-danger btn-sm",onClick:()=>(async e=>{b(null==e?void 0:e._id),u(!0)})(t)},n.createElement("i",{className:"bi bi-trash"})))}];return n.createElement(n.Fragment,null,n.createElement("div",{className:"container mt-5"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-6"},n.createElement("h2",{className:"mb-4"},"User List")),n.createElement("div",{className:"col-md-6 text-end"},n.createElement("button",{className:"btn btn-primary",onClick:()=>e("/add")},"Add User"))),n.createElement(o,{columns:f,data:t,itemsPerPage:10}),n.createElement(c,{show:i,title:"Delete Confirmation",message:"Are you sure you want to delete this item?",onConfirm:async()=>{try{const e=await(0,l.LK)("".concat(l.u3.DELETE_USER).concat(d));200===e.statusCode&&(u(!1),p({show:!0,message:e.message,type:"success"}),y())}catch(e){p({show:!0,message:e.message,type:"danger"})}},onCancel:()=>{u(!1)}}),n.createElement(s.A,{show:E.show,message:E.message,type:E.type,onClose:()=>p(m(m({},E),{},{show:!1}))})))}},744:(e,t,a)=>{a.d(t,{u3:()=>l,LK:()=>o,Y2:()=>i,Tj:()=>c,sS:()=>s}),a(540);var n=a(83);const l=JSON.parse('{"ADD_USER":"api/user/add","GET_USER_LIST":"api/user","UPDATED_USER":"api/user/","DELETE_USER":"api/user/"}'),r=n.A.create({baseURL:void 0,withCredentials:!0});r.interceptors.request.use(e=>e,e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(window.location.href="/"),Promise.reject(e)});const c=async(e,t)=>{try{const a=await r.post(e,t);return null==a?void 0:a.data}catch(e){return e}},s=async(e,t)=>{try{const a=await r.put(e,t);return null==a?void 0:a.data}catch(e){return e}},o=async e=>{try{const t=await r.delete(e);return null==t?void 0:t.data}catch(e){return e}},i=async e=>{try{const t=await r.get(e);return null==t?void 0:t.data}catch(e){return e}}}}]);